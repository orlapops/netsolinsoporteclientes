<div class="row">
    <kendo-dialog *ngIf="active" (close)="closeForm()" [minWidth]="250" [width]="650">
        <kendo-dialog-titlebar>
            {{ isNew ? 'Add nuevo caso' : 'Editar caso' }}
        </kendo-dialog-titlebar>

        <form novalidate [formGroup]="editForm">
            <div class="form-group">
                <label for="asunto" class="control-label">Asunto</label>

                <input type="text" class="k-textbox" formControlName="asunto" />

                <div class="k-tooltip k-tooltip-validation" [hidden]="editForm.controls.asunto.valid || editForm.controls.asunto.pristine">
                    Asunto es requerido
                </div>
            </div>
            <div class="form-group">
                <div>
                    <label for="detalle" class="control-label">Detalle</label>
                </div>
                <textarea rows="15" cols="110" formControlName="detalle"></textarea>
                <div class="k-tooltip k-tooltip-validation" [hidden]="editForm.controls.detalle.valid || editForm.controls.detalle.pristine">
                    Detalle es requerido
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-12 col-sm-6 col-md-6">
                    <label>                
                    Se presente en
                    <kendo-dropdownlist [data]="service.productosprin" [textField]="'nombre'" [valueField]="'id'" isRequired="true" [defaultItem]="{ id: null , nombre: 'Seleccione uno' }" formControlName="productoprin" [valuePrimitive]="true">
                    </kendo-dropdownlist>
                </label>
                </div>
            </div>

            <div class="form-group">
                <div class="col-xs-12 col-sm-6 col-md-6">
                    <label>
                        Prioridad
                        <kendo-dropdownlist
                            formControlName="prioridad"
                            isRequired="true"
                            [data]="listprioridades"
                            [value]="Baja"
                            required
                        >
                        </kendo-dropdownlist>
                    </label>
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-12 col-sm-6 col-md-6">
                    <label>                
                    Nivel Criticidad
                    <kendo-dropdownlist [data]="service.nivelescriticidad" [textField]="'descripcion'" [valueField]="'nivel'" isRequired="true" [defaultItem]="{ nivel: null , descripcion: 'Seleccione nivel' }" formControlName="nivelcriticidad" [valuePrimitive]="true">
                    </kendo-dropdownlist>
                </label>
                </div>
            </div>
        </form>

        <kendo-dialog-actions>
            <button class="k-button" (click)="onCancel($event)">Cancelar</button>
            <button class="k-button k-primary" [disabled]="!editForm.valid" (click)="onSave($event)">Grabar</button>
        </kendo-dialog-actions>
    </kendo-dialog>
</div>